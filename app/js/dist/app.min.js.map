{"version":3,"sources":["app.module.js","controllers/dinner.js","controllers/dishes.js","controllers/home.js","controllers/search.js","services/dinner.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.min.js","sourcesContent":["var app = angular.module('App', ['ngRoute', 'ngResource', 'ngCookies'])\n.config(function($routeProvider, $locationProvider) {\n  $locationProvider.html5Mode(true);\n    $routeProvider\n        .when('/', {\n            templateUrl: 'app/views/home.html',\n            controller: 'HomeCtrl',\n        })\n        .when('/search', {\n            templateUrl: 'app/views/search.html',\n            controller: 'SearchCtrl',\n        })\n        .when('/dish/:dishId', {\n            templateUrl: 'app/views/dishes.html',\n            controller: 'DishesCtrl',\n        })\n        .otherwise({\n            redirectTo: '/',\n        });\n  }\n})\n.run(function($rootScope) {\n\n});\n","app.controller('DinnerCtrl', ['$scope', 'Dinner',\n  function($scope,Dinner) {\n    $scope.dinner = Dinner;\n    $scope.numberOfGuests = Dinner.getNumberOfGuests();\n\n    $scope.setNumberOfGuest = function(number){\n        Dinner.setNumberOfGuests(number);\n    }\n\n    $scope.getNumberOfGuests = function() {\n        return Dinner.getNumberOfGuests();\n    }\n  }\n]);\n","app.controller('DishesCtrl', ['$scope', '$routeParams', 'Dinner',\n  function($scope, $routeParams, Dinner) {\n\n    const id = $routeParams.dishId;\n    Dinner.Dish.get({id}).$promise\n        .then(function(data) {\n          console.log(data);\n            $scope.data = data;\n        })\n        .catch(function(err) {\n            $scope.status = \"There was an error\";\n        });\n    $scope.back = function() {\n      window.history.back();\n    }\n\n    $scope.addDish = function(data) {\n      Dinner.addToMenu(data);\n      window.history.back();\n    }\n  }\n]);\n","app.controller('HomeCtrl', ['$scope',\n  function($scope) {\n\n  }\n]);\n","app.controller('SearchCtrl', ['$scope', '$routeParams', 'Dinner',\n  function($scope, $routeParams, Dinner) {\n\n    $scope.options = [\n      {\n        name: 'Appetizer',\n        value: 'appetizer'\n      },\n      {\n        name: 'Main Course',\n        value: 'main course'\n      },\n      {\n        name: 'Dessert',\n        value: 'dessert'\n      }\n    ];\n\n    $scope.selectedOption = $scope.options[0];\n\n    $scope.search = function(query,type) {\n      console.log(query);\n      console.log(type);\n        $scope.status = \"Searching...\";\n        Dinner.DishSearch.get({query:query, type:type}).$promise\n            .then(function(resp) {\n                const data = resp.toJSON();\n                const results = data.results;\n                const length = results.length;\n\n                $scope.dishes = results;\n                $scope.status = \"Showing \" + length + \" results\";\n            })\n            .catch(function(err) {\n                $scope.status = \"There was an error\";\n            });\n      }\n  }\n\n]);\n","(function() {\n    'use strict';\n\n    angular\n        .module('App')\n        .factory('Dinner', Dinner);\n\n        function Dinner($resource, $cookies) {\n            let numberOfGuests = 2;\n            let YOLO = 1;\n            const menu = []; // type -> dish\n\n            // Monkey patch\n            function getType(dishTypes) {\n                if(dishTypes.includes('appetizer')) {\n                    return 'appetizer';\n                } else if (dishTypes.includes('dessert')) {\n                    return 'dessert';\n                } else {\n                    return 'main course';\n                }\n            }\n\n            this.setNumberOfGuests = function(num) {\n                numberOfGuests = num;\n            }\n\n            this.getNumberOfGuests = function() {\n                return numberOfGuests;\n            }\n\n            this.DishSearch = $resource('https://spoonacular-recipe-food-nutrition-v1.p.mashape.com/recipes/search',{},{\n                get: {\n                    headers: {\n                        'X-Mashape-Key': 'Qu9grxVNWpmshA4Kl9pTwyiJxVGUp1lKzrZjsnghQMkFkfA4LB'\n                    },\n                },\n            });\n\n            this.Dish = $resource('https://spoonacular-recipe-food-nutrition-v1.p.mashape.com/recipes/:id/information',{},{\n                get: {\n                    headers: {\n                        'X-Mashape-Key': 'Qu9grxVNWpmshA4Kl9pTwyiJxVGUp1lKzrZjsnghQMkFkfA4LB'\n                    },\n                    transformResponse: function(resp, headersGetter, status) {\n                      let total = 0;\n                      const data = JSON.parse(resp);\n                      const ingredients = data.extendedIngredients.map(function (ingredient) {\n                        const cost = ingredient.amount * YOLO;\n                        total = total + cost;\n                        return Object.assign(ingredient, {cost})\n                      })\n                      return Object.assign(data, {\n                        type: getType(data.dishTypes),\n                        extendedIngredients: {\n                          total,\n                          ingredients,\n                        },\n                      });\n                    },\n                },\n            });\n\n            this.addToMenu = function(dish) {\n                menu[dish.type] = dish;\n            }\n\n            this.deleteFromMenu = function(dish) {\n                delete menu[dish.type];\n            }\n\n            this.getMenu = function() {\n                return menu;\n            }\n\n            return this;\n        }\n})();\n"]}